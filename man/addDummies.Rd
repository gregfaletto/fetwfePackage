% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/did_funcs.R
\name{addDummies}
\alias{addDummies}
\title{Add Dummy Variables to Dataframe}
\usage{
addDummies(df, cohorts, times, N, T, unit_var, time_var, resp_var, n_cohorts)
}
\arguments{
\item{df}{A \code{data.frame} that has been processed by \code{idCohorts} and \code{processCovs}.}

\item{cohorts}{A list where names are treatment adoption times and values are
character vectors of unit IDs in that cohort.}

\item{times}{A numeric or integer vector of unique, sorted time periods.}

\item{N}{Integer; total number of unique units.}

\item{T}{Integer; total number of time periods.}

\item{unit_var}{Character string; name of the unit identifier column in \code{df}.}

\item{time_var}{Character string; name of the time variable column in \code{df}.}

\item{resp_var}{Character string; name of the response variable column in \code{df}.}

\item{n_cohorts}{Integer; the number of treated cohorts (R from the paper).}
}
\value{
A list containing:
\item{time_var_mat}{Matrix of time dummies (\code{N*T} rows, \code{T-1} columns).}
\item{cohort_var_mat}{Matrix of cohort dummies (\code{N*T} rows, \code{n_cohorts} columns).}
\item{treat_var_mat}{Matrix of treatment-period dummies (\code{N*T} rows, \code{num_treats} columns).}
\item{y}{The centered response vector.}
\item{cohort_treat_names}{A list (names are cohort adoption times) where each
element is a character vector of names for the treatment-period dummy
variables for that cohort (e.g., "c1_t2", "c1_t3").}
\item{time_var_names}{Character vector of names for the time dummy variables
(e.g., "t_2", "t_3").}
\item{cohort_vars}{Character vector of names for the cohort dummy variables
(e.g., "c_1", "c_2").}
\item{first_inds}{A numeric vector. For each cohort, this gives the starting
column index within \code{treat_var_mat} that corresponds to its first
treatment-period dummy.}
}
\description{
Augments the processed dataframe with cohort dummies, time dummies (for all
but the first period), and treatment-period dummies for each cohort.
It also centers the response variable.
}
\details{
For each cohort:
\itemize{
\item Identifies the time periods during which it's treated.
\item Calls \code{genTreatVarsRealData} to create cohort and treatment-period dummies.
\item These dummies are added as columns to a copy of \code{df} (though the modified
\code{df} itself is not returned, its column structure informs outputs).
\item Matrices \code{cohort_var_mat} (for cohort indicators) and \code{treat_var_mat}
(for treatment-period indicators) are constructed.
}
Time dummies are created for \code{times[2]} through \code{times[T]}.
The response variable \code{df[[resp_var]]} is centered by subtracting its mean.
}
\keyword{internal}
